
# zhenxun_plugins_TZseries
该系列插件由[堂主（po-lan)](https://github.com/po-lan)和[弘涯(yajiwa)](https://github.com/yajiwa),以及各位用户(咳咳，现在pr的只有一个写bug的）维护

若遇见bug，请尽快带着报错截图和触发情况发送到[issue](https://github.com/po-lan/zhenxun_plugins_TZseries/issues)(右上角绿色的按钮进行提交)

**注：这是真寻bot的拓展序列插件，请在使用时确保自己使用的是最新版的真寻以防止出现莫名的bug导致各位都头大**

### 为什么叫TZ系列

因为堂主(po-lan)的机器人叫小堂主

### 使用方式

    首先，请把系列插件丢进你真寻的extensive_plugin(如果真寻的自定义插件没有改名字的话，改了请以官方页为准)
    
    其次，若你只是使用部分插件，可以无需下载__init__.py文件(若你使用的只有TZjupai.py，即小人举牌插件，也无需下载_model.py)
    
    第三，若你是逐渐使用上所有的插件，下到后面觉得要创建一个文件夹在extensive_plugin中，去管理这一系列插件，建议将文件夹命名为zhenxun_plugins_TZseries(即自己创建的文件夹重命名为zhenxun_plugins_TZseries)，并下载__init__.py，放在你的zhenxun_plugins_TZseries文件夹中(你想知道为什么？如果你是小白请不要过度接触此类知识，请照做就好了，否则会不幸；若你是有基础且有兴趣的，请查阅nonebot2文档自行理解有关包插件的知识与规则)
    
    第四，除了小人举牌以外的插件都需要_model.py中的类与方法，所以若出现No model named "_model.py"的报错时，请自行检查自己是否下载_model.py并与系列插件放于同一目录中

**注：以下的{NICKNAME}皆为bot（机器人）**

**TZ21[v1.0]--21点**

    第一位玩家发起活动，指令：@{NICKNAME} 21点[金币数量]
    接受21点赌局，指令：入场[金币数量]
    人齐后开局，指令：开局
    拿牌指令：拿牌
    宣布停止，指令：停牌（此指令无反馈）
    所有人停牌，或者超时90s后，结算指令：21点(结算/结束)
    {NICKNAME} 必要点数17
    起手2牌合计21点为黑杰克，比其他21点大
    获胜奖励为胜者按各自入场费
    如果{NICKNAME}没钱了，就不会再玩了
    当然你可以输入 [21点打钱 金币数量] 给机器人打钱

**TZbank[v1.0]--银行**

    {NICKNAME}的银行绝对安全，不会被打劫
    不过也有一点手续费
    存入的金额不可高于 自己拥有总额的70%
    指令：
        #银行存入 num
        #银行取出 num
        #银行汇款 [@user] num 
        #个人汇款 [@user] num
          这个会汇入到对方的银行
          不超过手头资产的30%
        #个人转账 [@user] num
          人对人
          不超过手头资产的70%
        #我的存款
        #存款排行 ?num=10
        #更新存款（超级用户指令）
    ?表示可选参数 =为默认值
    福利金从金库抽取

**TZdajie[v1.1]--打劫**

    一个不要脸的打劫功能。劫富济贫，快试试吧！
    打劫的金额为低的一方金额内随机值
    指令：
    #劫财 [@user]
    #劫色 [@user]
    #负数修正
        当你的金币数量为负数的时候可以纠正过来
        不过会少很多钱

**TZfulijin[v1.0]--乞讨福利金**

    向{NICKNAME}乞讨，有每日次数上限
    指令：
       @{NICKNAME} 行行好给点钱
       @{NICKNAME} 看看小金库
       @{NICKNAME} 捐助金币 num?[num = 1000]
       @{NICKNAME} 充盈金库 num?[num = 1000]
    福利金从金库抽取

**TZggl[v1.0]--刮刮乐**

    {NICKNAME}是庄家
    指令：
    @{NICKNAME} 刮刮乐 ?[数量]
    {NICKNAME}刮刮乐 ?[数量]
    管理员命令：
        刮刮乐倍率 num>0.1
        刮刮乐购买量 num>=1
        刮刮乐奖池选择 id>=-1
        刮刮乐奖池查看 

**TZjupai[v1.0]--小人举牌**

    生成举牌小人
    指令：
        小人举牌 文本[max=32]

### 更新日志

**2023/2/22**[v0.3]

1. 添加洗白插件，将打劫的黑钱进行洗白，超过24h未洗白将追回
2. 银行将自动取出超出部分存款
3. 修复各种大小bug(猜测还有很多静等发现)
3. 代码逻辑优化
4. 适配真寻最新orm

**2022/6/30**[v0.2]

1. 对银行进行了重大更新，新增超级用户#更新存款命令，会对超出存款的用户进行取出
2. 修复已知的小bug

**2022/6/21**[v0.1]

1. 对真寻进行了适配



